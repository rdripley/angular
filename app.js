var MyApp;
(function (MyApp) {
    angular.module('MyApp', ['ui.router', 'ngResource']).config(function ($stateProvider, $locationProvider, $urlRouterProvider) {
        $stateProvider
            .state('Home', {
            url: '/',
            templateUrl: "./home.html",
        })
            .state('secret', {
            url: '/secret',
            templateUrl: "./secret.html",
            data: {
                requiresAuthentication: true
            }
        })
            .state('public', {
            url: '/public',
            templateUrl: './public.html'
        })
            .state('login', {
            url: '/login',
            templateUrl: './login.html'
        });
        $locationProvider.html5Mode(true);
    });
    angular.module('MyApp').run(function ($rootScope, $state, accountService) {
        $rootScope.$on('$stateChangeStart', function (e, to) {
            if (to.data && to.data.requiresAuthentication) {
                if (!accountService.isLoggedIn()) {
                    e.preventDefault();
                    $state.go('login');
                }
            }
        });
    });
})(MyApp || (MyApp = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLElBQVUsS0FBSyxDQXVDZDtBQXZDRCxXQUFVLEtBQUs7SUFDYixPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FDekQsVUFBQyxjQUFjLEVBQUUsaUJBQWlCLEVBQUUsa0JBQWtCO1FBRXBELGNBQWM7YUFDYixLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ2IsR0FBRyxFQUFFLEdBQUc7WUFDUixXQUFXLEVBQUUsYUFBYTtTQUMzQixDQUFDO2FBQ0QsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUNmLEdBQUcsRUFBRSxTQUFTO1lBQ2QsV0FBVyxFQUFFLGVBQWU7WUFDNUIsSUFBSSxFQUFFO2dCQUNKLHNCQUFzQixFQUFFLElBQUk7YUFDN0I7U0FDRixDQUFDO2FBQ0QsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUNmLEdBQUcsRUFBRSxTQUFTO1lBQ2QsV0FBVyxFQUFFLGVBQWU7U0FDN0IsQ0FBQzthQUNELEtBQUssQ0FBQyxPQUFPLEVBQUU7WUFDZCxHQUFHLEVBQUUsUUFBUTtZQUNiLFdBQVcsRUFBRSxjQUFjO1NBQzVCLENBQUMsQ0FBQztRQUVILGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxjQUE2QztRQUM1RixVQUFVLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLFVBQUMsQ0FBQyxFQUFFLEVBQUU7WUFFeEMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQztnQkFDOUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNqQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ25CLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3JCLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNILENBQUMsRUF2Q1MsS0FBSyxLQUFMLEtBQUssUUF1Q2QiLCJzb3VyY2VzQ29udGVudCI6WyJkZWNsYXJlIHZhciBhbmd1bGFyOiBhbnk7XHJcbm5hbWVzcGFjZSBNeUFwcCB7XHJcbiAgYW5ndWxhci5tb2R1bGUoJ015QXBwJywgWyd1aS5yb3V0ZXInLCAnbmdSZXNvdXJjZSddKS5jb25maWcoXHJcbiAgICAoJHN0YXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpID0+IHtcclxuICAgICAgLy8gRGVmaW5lIHJvdXRlc1xyXG4gICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ0hvbWUnLCB7XHJcbiAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwiLi9ob21lLmh0bWxcIixcclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdzZWNyZXQnLCB7XHJcbiAgICAgICAgdXJsOiAnL3NlY3JldCcsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwiLi9zZWNyZXQuaHRtbFwiLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHJlcXVpcmVzQXV0aGVudGljYXRpb246IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgncHVibGljJywge1xyXG4gICAgICAgIHVybDogJy9wdWJsaWMnLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9wdWJsaWMuaHRtbCdcclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdsb2dpbicsIHtcclxuICAgICAgICB1cmw6ICcvbG9naW4nLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9sb2dpbi5odG1sJ1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gRW5hYmxlIEhUTUw1IG5hdmlnYXRpb25cclxuICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnTXlBcHAnKS5ydW4oKCRyb290U2NvcGUsICRzdGF0ZSwgYWNjb3VudFNlcnZpY2U6IE15QXBwLlNlcnZpY2VzLkFjY291bnRTZXJ2aWNlKSA9PiB7XHJcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgKGUsIHRvKSA9PiB7XHJcbiAgICAvLyBwcm90ZWN0IG5vbi1wdWJsaWMgdmlld3NcclxuICAgIGlmICh0by5kYXRhICYmIHRvLmRhdGEucmVxdWlyZXNBdXRoZW50aWNhdGlvbikge1xyXG4gICAgICBpZiAoIWFjY291bnRTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbn1cclxuIl19